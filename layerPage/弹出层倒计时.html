<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>弹出层倒计时</title>
    <script type="text/javascript" src="../jquery-1.8.2.min.js"></script>
    <script type="text/javascript" src="../layer/layer.js"></script>
    <style type="text/css">
        .abc {
            color: red;
        }
    </style>
    <script type="text/javascript">
        $(function () {
            payLayer = layer.open({
                        content: '<div class="paySuccess">\
                <div class="bd t_c"> <a href="${createLinkCenter(controller: "netWorth",action: "list",params:[mid:'now'])}">\
                <img src="${resource(file: 'images / netWorth / payIcon.png
            ')}?v=${g.version()}" />\
                            <p>还款成功</p></a></div><p class="autoOff"><span class="second">5</span>秒后自动关闭</p></div>',
                    area:
            ['400px', '220px'],
                    btn:false,
                    success
            :
            function (layero, index) {
                var timer, i = 5;
                var countdown = function () {
                    i--;
                    if (i !== 0) {
                        $(".second").text(i);
                    } else {
                        clearInterval(timer);
                        layer.close(index);
                    }
                }
                clearInterval(timer);
                timer = setInterval(countdown, 1000);
            }
            ,
            end:function () {
                window.location.reload();
            }
        })
        })
    </script>
</head>
<body>

</body>
</html>